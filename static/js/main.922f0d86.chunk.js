(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{81:function(e,t,n){"use strict";n.r(t);var r,c,a,o,i,s,d,u,l,b,j,p,x,g,O,f,h,m,v,w,k,y,P,S,z,B,E,L=n(54),C=n.n(L),I=n(37),F=n(57),T=n(5),M=n(8),N=n(29),R=n(9),J=n(4),$=function(){return Object(J.jsx)("div",{children:"This page doesn\xa0t exist."})},D=I.b,A=I.c,H=n(32),U=n(24),q={storage:[],statusLoading:"idle",error:null},G=Object(U.b)({name:"products",initialState:q,reducers:{loadProducts:function(){},setProducts:function(e,t){e.storage=t.payload},setStatus:function(e,t){e.statusLoading=t.payload},setError:function(e,t){e.error=t.payload,e.statusLoading="failed"},resetState:function(e){return Object(H.a)(Object(H.a)({},e),q)}}}),K=G.reducer,Q=G.actions,V=Q.loadProducts,W=Q.setProducts,X=Q.setStatus,Y=Q.setError,Z=(Q.resetState,function(e){return e.products.storage}),_=function(e){return e.products.statusLoading},ee=function(e){return e.products.error},te=n.p+"static/media/star-icon.bdc56500.svg",ne=R.c.button(r||(r=Object(M.a)(["\n  padding: 0;\n  margin: 0;\n  border: none;\n  background-color: transparent;\n  outline: none;\n  justify-content: center;\n  cursor: pointer;\n  height: fit-content;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-family: 'Raleway', sans-serif;\n\n  &:hover{\n    text-decoration: underline;\n  }\n"]))),re={storage:[],total:0},ce=Object(U.b)({name:"basket",initialState:re,reducers:{addProductToBasket:function(e,t){var n=t.payload,r=n.count,c=n.product,a=e.storage.findIndex((function(e){return e.product.id===c.id}));a>=0?e.storage[a].countOrdered+=r:e.storage.push({product:c,countOrdered:r}),e.total=Math.ceil(100*e.storage.reduce((function(e,t){return e+Number(t.product.price)*t.countOrdered}),0))/100},removeProductFromBasket:function(e,t){var n=t.payload,r=n.count,c=n.product,a=e.storage.findIndex((function(e){return e.product.id===c.id}));a>=0&&e.storage[a].countOrdered>=r&&(e.storage[a].countOrdered-=r,e.total=Math.ceil(100*e.storage.reduce((function(e,t){return e+Number(t.product.price)*t.countOrdered}),0))/100)},deleteProductInBasket:function(e,t){var n=t.payload.product,r=e.storage.findIndex((function(e){return e.product.id===n.id}));r>=0&&(e.storage.splice(r,1),e.total=Math.ceil(100*e.storage.reduce((function(e,t){return e+Number(t.product.price)*t.countOrdered}),0))/100)},clearBasket:function(){return re}}}),ae=ce.reducer,oe=ce.actions,ie=oe.addProductToBasket,se=oe.removeProductFromBasket,de=oe.deleteProductInBasket,ue=(oe.clearBasket,function(e){return e.basket.storage}),le=function(e){return e.basket.total},be=R.c.div(c||(c=Object(M.a)(["\n  display: inline-flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 280px;\n  height: 400px;\n  border-radius: 10px;\n  box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.2);\n  overflow: hidden;\n  margin: 10px;\n  box-sizing: border-box;\n  padding: 0 0 20px;\n"]))),je=R.c.img(a||(a=Object(M.a)(["\n  width: 100%;\n  height: 250px;\n  object-fit: cover;\n  overflow: hidden;\n"]))),pe=R.c.div(o||(o=Object(M.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n"]))),xe=R.c.div(i||(i=Object(M.a)(["\n  font-size: 12px;\n  padding: 0;\n"]))),ge=R.c.h2(s||(s=Object(M.a)(["\n  font-size: 20px;\n  font-weight: bold;\n  margin-bottom: 10px;\n  max-width: 250px;\n  text-align: center;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-direction: normal;\n  -webkit-box-orient: vertical;\n  overflow-wrap: normal;\n  height: 48px;\n"]))),Oe=R.c.p(d||(d=Object(M.a)(["\n  font-size: 14px;\n  text-align: center;\n  max-height: 50px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 1;\n  -webkit-box-direction: normal;\n  -webkit-box-orient: vertical;\n  overflow-wrap: break-word;\n"]))),fe=R.c.h3(u||(u=Object(M.a)(["\n  font-size: 24px;\n  font-weight: bold;\n  margin-top: 10px;\n"]))),he=R.c.div(l||(l=Object(M.a)(["\n  display: flex;\n  align-items: center;\n  margin-top: 10px;\n"]))),me=R.c.span(b||(b=Object(M.a)(["\n  font-size: 14px;\n  margin-left: 5px;\n"]))),ve=function(e){var t=e.product,n=t.category,r=t.description,c=t.image,a=t.price,o=t.rating,i=t.title,s=o.count,d=D();return Object(J.jsxs)(be,{onDragStart:function(e){e.dataTransfer.setData("text/plain",JSON.stringify(t))},children:[Object(J.jsx)(je,{src:c,alt:r}),Object(J.jsxs)(pe,{children:[Object(J.jsx)(xe,{children:n}),Object(J.jsx)(ge,{children:i}),Object(J.jsx)(Oe,{children:r}),Object(J.jsxs)(fe,{children:["$",a]}),Object(J.jsxs)(he,{children:[Object(J.jsx)("img",{src:te,alt:"star icon"}),Object(J.jsx)(me,{children:"".concat(s," available")})]})]}),Object(J.jsx)(ne,{onClick:function(){d(ie({product:t,count:1}))},children:"Buy"})]})},we=Object(R.d)(j||(j=Object(M.a)(["\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n"]))),ke=R.c.div(p||(p=Object(M.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n"]))),ye=R.c.div(x||(x=Object(M.a)(["\n  border-radius: 50%;\n  width: 2em;\n  height: 2em;\n  margin: 1em auto;\n  border: 0.3em solid #ddd;\n  border-left-color: #000;\n  animation: "," 1.2s infinite linear;\n"])),we),Pe=function(){return console.log("Loader ...."),Object(J.jsx)(ke,{children:Object(J.jsx)(ye,{})})},Se=R.c.div(g||(g=Object(M.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n\n  ","\n"])),(function(e){return"error"===e.status&&Object(R.b)(O||(O=Object(M.a)(["\n    color: red;\n  "])))})),ze=function(e){var t=e.message,n=e.status,r=void 0===n?"casual":n;return Object(J.jsx)(Se,{status:r,children:Object(J.jsx)("h2",{children:t})})},Be=R.c.div(f||(f=Object(M.a)(["\n  margin: 0 auto;\n  grid-template-columns: repeat(4, minmax(400px, 1fr));\n  gap: 20px;\n  margin: 0 auto;\n  padding: 20px;\n"]))),Ee=function(){var e=A(Z),t="loading"===A(_),n=A(ee);return n?Object(J.jsx)(ze,{message:n,status:"error"}):t?Object(J.jsx)(Pe,{}):Object(J.jsx)(Be,{children:e.length>0&&e.map((function(e){return Object(J.jsx)(ve,{product:e},e.id)}))})},Le=n(26),Ce=R.c.div(h||(h=Object(M.a)(["\n  margin: 0 auto;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 10px;\n"]))),Ie=function(){var e=D(),t=A(ue),n=A(Z);return Object(J.jsxs)(Ce,{children:[Object(J.jsx)(N.a,{to:"/",children:Object(J.jsx)(Le.d,{})}),!n.length&&Object(J.jsx)(ne,{onClick:function(){return e(V())},children:"Load products"}),Object(J.jsx)(N.a,{to:"basket",children:t.length?Object(J.jsx)(Le.b,{size:"2rem",color:"black"}):Object(J.jsx)(Le.c,{size:"2rem",color:"grey"})})]})},Fe=R.c.div(m||(m=Object(M.a)(["\n  & h2 {\n    text-align: center;\n  }\n"]))),Te=R.c.div(v||(v=Object(M.a)(["\n  border-bottom: 1px solid black;\n"]))),Me=R.c.div(w||(w=Object(M.a)(["\n  padding: 10px 0;\n  border-bottom: 1px solid black;\n  text-align: right;\n"]))),Ne=R.c.div(k||(k=Object(M.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 10px;\n"]))),Re=R.c.div(y||(y=Object(M.a)(["\n  width: 500px;\n"]))),Je=R.c.div(P||(P=Object(M.a)(["\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n"]))),$e=R.c.div(S||(S=Object(M.a)(["\n  margin-left: 30px;\n  width: 100px;\n  text-align: right;\n"]))),De=function(){var e=D(),t=A(ue),n=A(le);return Object(J.jsx)("div",{children:t.length?Object(J.jsxs)(Fe,{children:[Object(J.jsx)(Te,{children:t.map((function(t){return Object(J.jsxs)(Ne,{children:[Object(J.jsx)(Re,{children:t.product.title}),Object(J.jsxs)(Je,{children:[Object(J.jsx)(ne,{onClick:function(){return n=t.product,r=t.countOrdered,void e(1!==r?se({product:n,count:1}):de({product:n}));var n,r},children:Object(J.jsx)(Le.e,{size:"2rem"})}),t.countOrdered,Object(J.jsx)(ne,{onClick:function(){return n=t.product,void e(ie({product:n,count:1}));var n},children:Object(J.jsx)(Le.a,{size:"2rem"})}),Object(J.jsx)(ne,{onClick:function(){return n=t.product,void e(de({product:n}));var n},children:Object(J.jsx)(Le.f,{size:"2rem"})}),Object(J.jsx)($e,{children:"$".concat(Math.round(t.countOrdered*+t.product.price*100)/100)})]})]},t.product.id)}))}),Object(J.jsxs)(Me,{children:["Total:\xa0\xa0\xa0$",n]})]}):Object(J.jsx)(ze,{message:"Basket is empty",status:void 0})})},Ae=R.c.div(z||(z=Object(M.a)(["\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100vh;\n  "]))),He=R.c.header(B||(B=Object(M.a)(["\n  max-width: 1270px;\n  margin: 0 auto;\n  text-align: center;\n  margin-bottom: 1rem;\n"]))),Ue=R.c.main(E||(E=Object(M.a)(["\n  max-width: 1270px;\n  margin: 0 auto;\n"])));function qe(){return Object(J.jsxs)(Ae,{children:[Object(J.jsxs)(He,{children:[Object(J.jsx)("h1",{children:"Shop"}),Object(J.jsx)(Ie,{})]}),Object(J.jsx)(Ue,{children:Object(J.jsx)(T.a,{})})]})}var Ge=Object(N.b)([{path:"/",element:Object(J.jsx)(qe,{}),errorElement:Object(J.jsx)($,{}),id:"root",children:[{path:"/",element:Object(J.jsx)(Ee,{}),id:"homePage",errorElement:Object(J.jsx)(J.Fragment,{children:"Error on HomePage"})},{path:"/basket",element:Object(J.jsx)(De,{}),id:"basketPage",errorElement:Object(J.jsx)(J.Fragment,{children:"Error on BasketPage"})}]}]),Ke=n(16),Qe=n(22),Ve=n(62),We=n(61),Xe=n.n(We),Ye=n(7),Ze=n.n(Ye),_e=n(27),et=n(14),tt=n(83),nt="https://fakestoreapi.com/products",rt=tt.a.create({baseURL:nt}),ct=function(e){return Object(et.a)(Ze.a.mark((function t(){var n;return Ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,rt.get(e);case 2:return n=t.sent,console.log("get",nt+e),t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)})))()},at=Ze.a.mark(st),ot=Ze.a.mark(dt),it=Ze.a.mark(ut);function st(){var e;return Ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("workerSaga"),t.next=3,Object(_e.b)(X("loading"));case 3:return t.prev=3,t.next=6,Object(_e.a)(3e3);case 6:return t.next=8,ct("/");case 8:return e=t.sent,console.log(e),t.next=12,Object(_e.b)(W(e));case 12:t.next=18;break;case 14:return t.prev=14,t.t0=t.catch(3),t.next=18,Object(_e.b)(Y(t.t0.message));case 18:return t.prev=18,t.next=21,Object(_e.b)(X("idle"));case 21:return t.finish(18);case 22:case"end":return t.stop()}}),at,null,[[3,14,18,22]])}function dt(){return Ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("watchSaga"),e.next=3,Object(_e.c)(V().type,st);case 3:case"end":return e.stop()}}),ot)}function ut(){return Ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("root saga"),e.next=3,dt();case 3:case"end":return e.stop()}}),it)}var lt,bt={popup:{}},jt=Object(U.b)({name:"controls",initialState:bt,reducers:{resetState:function(){return bt}}}),pt=jt.reducer,xt=(jt.actions.resetState,Object(Ve.a)()),gt={key:"root",storage:Xe.a,whitelist:["basket","product"]},Ot=Object(Ke.b)({control:pt,products:K,basket:ae}),ft=Object(Qe.g)(gt,Ot),ht=Object(U.a)({reducer:ft,middleware:function(e){return e({serializableCheck:{ignoredActions:[Qe.a,Qe.f,Qe.b,Qe.c,Qe.d,Qe.e]}}).concat(xt)}}),mt=Object(Qe.h)(ht);xt.run(ut);var vt=Object(R.a)(lt||(lt=Object(M.a)(["\n  * {\n    font-family: 'Raleway', sans-serif;\n    user-select: none;\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n"])));C.a.createRoot(document.getElementById("root")).render(Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(vt,{}),Object(J.jsx)(I.a,{store:ht,children:Object(J.jsx)(F.a,{loading:null,persistor:mt,children:Object(J.jsx)(T.c,{router:Ge})})})]}))}},[[81,1,2]]]);
//# sourceMappingURL=main.922f0d86.chunk.js.map