{"version":3,"sources":["pages/NotFound.tsx","store/hooks.ts","store/features/Products/productsSlice.ts","assets/star-icon.svg","UI/Button.tsx","store/features/Basket/basketSlice.ts","components/Card.tsx","components/Loader.tsx","components/TitleMassage.tsx","pages/HomePage/HomePage.tsx","components/Controls.tsx","pages/BasketPage/BasketPage.tsx","App.tsx","api/axiosClient.ts","store/sagas/index.ts","api/products.ts","store/features/Controls/controlsSlice.ts","store/index.ts","GlobalStyle.ts","index.tsx"],"names":["NotFound","useAppDispatch","useDispatch","useAppSelector","useSelector","initialState","storage","statusLoading","error","productsSlice","createSlice","name","reducers","loadProducts","setProducts","state","action","payload","setStatus","console","log","setError","resetState","actions","selectProducts","products","selectProductsStatusLoading","selectProductsError","Button","styled","button","total","basketSlice","addProductToBasket","count","product","productIndexInBasket","findIndex","bp","id","countOrdered","push","Math","ceil","reduce","accumulator","elem","Number","price","removeProductFromBasket","deleteProductInBasket","splice","clearBasket","selectBasket","basket","selectTotal","CardContainer","div","CardImage","img","CardContent","CardCategory","CardTitle","h2","CardDescription","p","CardPrice","h3","CardRating","CardRatingCount","span","Card","category","description","image","rating","title","dispatch","onDragStart","e","dataTransfer","setData","JSON","stringify","src","alt","StarIcon","onClick","rotate","keyframes","LoaderWrapper","LoaderInner","Loader","Wrapper","status","css","TitleMessage","message","HomePage","isLoading","length","map","Controls","to","size","color","Basket","BasketList","BasketTotal","BasketPosition","BasketPositionTitle","BasketPositionControls","BasketPositionCost","BasketPage","pos","round","Header","header","Main","main","App","router","createHashRouter","path","element","errorElement","children","baseURL","instance","axios","create","client","url","get","response","data","workerSaga","watchSaga","root","put","delay","takeLeading","type","popup","controlSlice","sagaMiddleware","createSagaMiddleware","persistConfig","key","whitelist","rootReducer","combineReducers","control","controlsSlice","persistedReducer","persistReducer","store","configureStore","reducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","concat","persistor","persistStore","run","rootSaga","GlobalStyle","createGlobalStyle","ReactDOM","createRoot","document","getElementById","render","loading"],"mappings":"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","file":"static/js/main.2ef944e5.chunk.js","sourcesContent":["import { FunctionComponent } from 'react';\n\nexport const NotFound: FunctionComponent = () => {\n  return (\n    <div>\n      This page doesn&nbsp;t exist.\n    </div>\n  );\n};\n","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport type { RootState, AppDispatch } from '.';\n\nexport const useAppDispatch: () => AppDispatch = useDispatch;\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","/* eslint-disable no-param-reassign */\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\n// eslint-disable-next-line import/no-cycle\nimport { RootState } from '../..';\nimport { Product } from '../../../type/Product';\n// import { getAllProducts } from '../../../api/products';\n\nexport interface ProductsState {\n  storage: Product[];\n  statusLoading: 'idle' | 'loading' | 'failed';\n  error: string | null;\n}\n\nconst initialState: ProductsState = {\n  storage: [],\n  statusLoading: 'idle',\n  error: null,\n};\n\n// export const getProductsAsync = createAsyncThunk(\n//   'products/fetchProducts',\n//   async () => {\n//     const response: Product[] = await getAllProducts();\n\n//     // eslint-disable-next-line no-console\n//     // console.log(response);\n\n//     return response;\n//   },\n// );\n\nconst productsSlice = createSlice({\n  name: 'products',\n  initialState,\n  reducers: {\n    loadProducts: () => {\n    },\n    setProducts: (state: ProductsState, action: PayloadAction<Product[]>) => {\n      state.storage = action.payload;\n    },\n    setStatus: (\n      state: ProductsState,\n      action: PayloadAction<'idle' | 'loading' | 'failed'>,\n    ) => {\n      // eslint-disable-next-line no-console\n      console.log('setStatus', action.payload);\n\n      state.statusLoading = action.payload;\n    },\n    setError: (state: ProductsState, action: PayloadAction<string>) => {\n      state.error = action.payload;\n      state.statusLoading = 'failed';\n    },\n    resetState: (state: ProductsState) => {\n      return { ...state, ...initialState };\n    },\n  },\n  // extraReducers: (builder) => {\n  //   builder\n  //     .addCase(getProductsAsync.pending, (state: ProductsState) => {\n  //       state.statusLoading = 'loading';\n  //     })\n  //     .addCase(getProductsAsync.fulfilled, (state, action) => {\n  //       state.storage.push(...action.payload);\n  //       state.statusLoading = 'idle';\n  //     })\n  //     .addCase(getProductsAsync.rejected, (state, action) => {\n  //       state.statusLoading = 'failed';\n\n  //       // eslint-disable-next-line no-console\n  //       console.log(action);\n  //     });\n  // },\n});\n\nexport default productsSlice.reducer;\nexport const {\n  loadProducts,\n  setProducts,\n  setStatus,\n  setError,\n  resetState,\n} = productsSlice.actions;\n\nexport const selectProducts = (state: RootState) => state.products.storage;\nexport const selectProductsStatusLoading\n= (state: RootState) => state.products.statusLoading;\nexport const selectProductsError = (state: RootState) => state.products.error;\n","export default __webpack_public_path__ + \"static/media/star-icon.bdc56500.svg\";","import styled from 'styled-components';\n\nexport const Button = styled.button`\n  padding: 0;\n  margin: 0;\n  border: none;\n  background-color: transparent;\n  outline: none;\n  justify-content: center;\n  cursor: pointer;\n  height: fit-content;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-family: 'Raleway', sans-serif;\n\n  &:hover{\n    text-decoration: underline;\n  }\n`;\n","/* eslint-disable no-param-reassign */\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\n// eslint-disable-next-line import/no-cycle\nimport { RootState } from '../..';\nimport { Product } from '../../../type/Product';\n\ntype BasketPosition = {\n  product: Product;\n  countOrdered: number;\n};\n\nexport interface BasketState {\n  storage: BasketPosition[];\n  total: number;\n}\n\nconst initialState: BasketState = {\n  storage: [],\n  total: 0,\n};\n\nconst basketSlice = createSlice({\n  name: 'basket',\n  initialState,\n  reducers: {\n    addProductToBasket: (\n      state: BasketState,\n      action: PayloadAction<{ product: Product; count: number }>,\n    ) => {\n      const { count, product } = action.payload;\n\n      const productIndexInBasket = state.storage\n        .findIndex(bp => bp.product.id === product.id);\n\n      if (productIndexInBasket >= 0) {\n        state.storage[productIndexInBasket].countOrdered += count;\n      } else {\n        state.storage.push({\n          product,\n          countOrdered: count,\n        });\n      }\n\n      state.total = Math.ceil(\n        state.storage.reduce((accumulator, elem) => accumulator\n        + Number(elem.product.price) * elem.countOrdered, 0) * 100,\n      ) / 100;\n    },\n    removeProductFromBasket: (\n      state: BasketState,\n      action: PayloadAction<{ product: Product; count: number }>,\n    ) => {\n      const { count, product } = action.payload;\n\n      const productIndexInBasket = state.storage\n        .findIndex(bp => bp.product.id === product.id);\n\n      if (productIndexInBasket >= 0\n        && state.storage[productIndexInBasket].countOrdered >= count) {\n        state.storage[productIndexInBasket].countOrdered -= count;\n\n        state.total = Math.ceil(\n          state.storage.reduce((accumulator, elem) => accumulator\n          + Number(elem.product.price) * elem.countOrdered, 0) * 100,\n        ) / 100;\n      }\n    },\n    deleteProductInBasket: (\n      state: BasketState,\n      action: PayloadAction<{ product: Product }>,\n    ) => {\n      const { product } = action.payload;\n\n      const productIndexInBasket = state.storage\n        .findIndex(bp => bp.product.id === product.id);\n\n      if (productIndexInBasket >= 0) {\n        state.storage.splice(productIndexInBasket, 1);\n\n        state.total = Math.ceil(\n          state.storage.reduce((accumulator, elem) => accumulator\n          + Number(elem.product.price) * elem.countOrdered, 0) * 100,\n        ) / 100;\n      }\n    },\n    clearBasket: () => {\n      return initialState;\n    },\n  },\n});\n\nexport default basketSlice.reducer;\nexport const {\n  addProductToBasket,\n  removeProductFromBasket,\n  deleteProductInBasket,\n  clearBasket,\n} = basketSlice.actions;\n\nexport const selectBasket = (state: RootState) => state.basket.storage;\nexport const selectTotal = (state: RootState) => state.basket.total;\n","import { FunctionComponent } from 'react';\nimport styled from 'styled-components';\nimport { Product } from '../type/Product';\nimport StarIcon from '../assets/star-icon.svg';\nimport { Button } from '../UI/Button';\nimport { useAppDispatch } from '../store/hooks';\nimport { addProductToBasket } from '../store/features/Basket/basketSlice';\n\nconst CardContainer = styled.div`\n  display: inline-flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 280px;\n  height: 400px;\n  border-radius: 10px;\n  box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.2);\n  overflow: hidden;\n  margin: 10px;\n  box-sizing: border-box;\n  padding: 0 0 20px;\n`;\n\nconst CardImage = styled.img`\n  width: 100%;\n  height: 250px;\n  object-fit: cover;\n  overflow: hidden;\n`;\n\nconst CardContent = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n`;\n\nconst CardCategory = styled.div`\n  font-size: 12px;\n  padding: 0;\n`;\n\nconst CardTitle = styled.h2`\n  font-size: 20px;\n  font-weight: bold;\n  margin-bottom: 10px;\n  max-width: 250px;\n  text-align: center;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-direction: normal;\n  -webkit-box-orient: vertical;\n  overflow-wrap: normal;\n  height: 48px;\n`;\n\nconst CardDescription = styled.p`\n  font-size: 14px;\n  text-align: center;\n  max-height: 50px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 1;\n  -webkit-box-direction: normal;\n  -webkit-box-orient: vertical;\n  overflow-wrap: break-word;\n`;\n\nconst CardPrice = styled.h3`\n  font-size: 24px;\n  font-weight: bold;\n  margin-top: 10px;\n`;\n\nconst CardRating = styled.div`\n  display: flex;\n  align-items: center;\n  margin-top: 10px;\n`;\n\nconst CardRatingCount = styled.span`\n  font-size: 14px;\n  margin-left: 5px;\n`;\n\ninterface CardProps {\n  product: Product;\n}\n\nexport const Card: FunctionComponent<CardProps> = ({\n  product,\n}) => {\n  const {\n    category, description, image, price, rating, title,\n  } = product;\n  const { count } = rating;\n  const dispatch = useAppDispatch();\n\n  const buyHandler = () => {\n    dispatch(addProductToBasket({\n      product,\n      count: 1,\n    }));\n  };\n\n  const onDragStart = (e: React.DragEvent<HTMLDivElement>) => {\n    e.dataTransfer.setData('text/plain', JSON.stringify(product));\n  };\n\n  return (\n    <CardContainer\n      onDragStart={onDragStart}\n    >\n      <CardImage src={image} alt={description} />\n      <CardContent>\n        <CardCategory>{category}</CardCategory>\n        <CardTitle>{title}</CardTitle>\n        <CardDescription>{description}</CardDescription>\n        <CardPrice>\n          $\n          {price}\n        </CardPrice>\n        <CardRating>\n          <img src={StarIcon} alt=\"star icon\" />\n          <CardRatingCount>{`${count} available`}</CardRatingCount>\n        </CardRating>\n      </CardContent>\n\n      <Button onClick={buyHandler}>Buy</Button>\n    </CardContainer>\n  );\n};\n","import { FunctionComponent } from 'react';\nimport styled, { keyframes } from 'styled-components';\n\nconst rotate = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n`;\n\nexport const LoaderWrapper = styled.div`\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const LoaderInner = styled.div`\n  border-radius: 50%;\n  width: 2em;\n  height: 2em;\n  margin: 1em auto;\n  border: 0.3em solid #ddd;\n  border-left-color: #000;\n  animation: ${rotate} 1.2s infinite linear;\n`;\n\nexport const Loader: FunctionComponent = () => {\n  // eslint-disable-next-line no-console\n  console.log('Loader ....');\n\n  return (\n    <LoaderWrapper>\n      <LoaderInner />\n    </LoaderWrapper>\n  );\n};\n","import { FunctionComponent } from 'react';\nimport styled, { css } from 'styled-components';\n\nexport const Wrapper = styled.div<{ status: string }>`\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n\n  ${({ status }) => (status === 'error') && css`\n    color: red;\n  `}\n`;\n\ninterface Props {\n  message: string;\n  status: 'error' | 'casual' | undefined\n}\n\nexport const TitleMessage: FunctionComponent<Props> = ({\n  message,\n  status = 'casual',\n}) => {\n  return (\n    <Wrapper status={status}>\n      <h2>{message}</h2>\n    </Wrapper>\n  );\n};\n","import { FunctionComponent } from 'react';\nimport styled from 'styled-components';\n\nimport {\n  useAppSelector,\n} from '../../store/hooks';\nimport {\n  selectProducts, selectProductsError, selectProductsStatusLoading,\n} from '../../store/features/Products/productsSlice';\nimport { Card } from '../../components/Card';\nimport { Product } from '../../type/Product';\nimport { Loader } from '../../components/Loader';\nimport { TitleMessage } from '../../components/TitleMassage';\n\nconst Wrapper = styled.div`\n  margin: 0 auto;\n  grid-template-columns: repeat(4, minmax(400px, 1fr));\n  gap: 20px;\n  margin: 0 auto;\n  padding: 20px;\n`;\n\nexport const HomePage: FunctionComponent = () => {\n  const products = useAppSelector(selectProducts);\n  const isLoading = useAppSelector(selectProductsStatusLoading) === 'loading';\n  const error = useAppSelector(selectProductsError);\n\n  if (error) {\n    return <TitleMessage message={error} status=\"error\" />;\n  }\n\n  if (isLoading) {\n    return <Loader />;\n  }\n\n  return (\n    <Wrapper>\n      {products.length > 0 && products.map((product: Product) => (\n        <Card\n          key={product.id}\n          product={product}\n        />\n      ))}\n    </Wrapper>\n  );\n};\n","import {\n  FunctionComponent,\n} from 'react';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { IoCart, IoCartOutline, IoChevronBack } from 'react-icons/io5';\nimport { selectBasket } from '../store/features/Basket/basketSlice';\nimport { Button } from '../UI/Button';\nimport {\n  useAppDispatch,\n  useAppSelector,\n} from '../store/hooks';\nimport {\n  loadProducts, selectProducts,\n} from '../store/features/Products/productsSlice';\n\nconst Wrapper = styled.div`\n  margin: 0 auto;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 10px;\n`;\n\nexport const Controls: FunctionComponent = () => {\n  const dispatch = useAppDispatch();\n  const basket = useAppSelector(selectBasket);\n  const products = useAppSelector(selectProducts);\n\n  return (\n    <Wrapper>\n      <Link to=\"/\">\n        <IoChevronBack />\n      </Link>\n\n      {!products.length && (\n        <Button\n          onClick={() => dispatch(loadProducts())}\n        >\n          Load products\n        </Button>\n      )}\n\n      <Link\n        to=\"basket\"\n      >\n        {basket.length\n          ? <IoCart size=\"2rem\" color=\"black\" />\n          : <IoCartOutline size=\"2rem\" color=\"grey\" />}\n      </Link>\n\n    </Wrapper>\n  );\n};\n","import { FunctionComponent } from 'react';\nimport styled from 'styled-components';\n\nimport { IoRemove, IoAdd, IoTrash } from 'react-icons/io5';\nimport {\n  useAppDispatch,\n  useAppSelector,\n} from '../../store/hooks';\n\nimport {\n  addProductToBasket,\n  deleteProductInBasket,\n  removeProductFromBasket,\n  selectBasket,\n  selectTotal,\n} from '../../store/features/Basket/basketSlice';\nimport { Button } from '../../UI/Button';\nimport { Product } from '../../type/Product';\n\nconst Basket = styled.div`\n  & h2 {\n    text-align: center;\n  }\n`;\n\nconst BasketList = styled.div`\n  border-bottom: 1px solid black;\n`;\n\nconst BasketTotal = styled.div`\n  padding: 10px 0;\n  border-bottom: 1px solid black;\n  text-align: right;\n`;\n\nconst BasketPosition = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 10px;\n`;\n\nconst BasketPositionTitle = styled.div`\n  width: 500px;\n`;\n\nconst BasketPositionControls = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n`;\n\nconst BasketPositionCost = styled.div`\n  margin-left: 30px;\n  width: 100px;\n  text-align: right;\n\n`;\n\nexport const BasketPage: FunctionComponent = () => {\n  const dispatch = useAppDispatch();\n  const basket = useAppSelector(selectBasket);\n  const total = useAppSelector(selectTotal);\n\n  const addHandler = (product: Product) => {\n    dispatch(addProductToBasket({ product, count: 1 }));\n  };\n\n  const removeHandler = (product: Product, count: number) => {\n    if (count === 1) {\n      dispatch(deleteProductInBasket({ product }));\n\n      return;\n    }\n\n    dispatch(removeProductFromBasket({ product, count: 1 }));\n  };\n\n  const deleteHandler = (product: Product) => {\n    dispatch(deleteProductInBasket({ product }));\n  };\n\n  return (\n    <div>\n      {basket.length ? (\n        <Basket>\n          <BasketList>\n            {basket.map(pos => (\n              <BasketPosition key={pos.product.id}>\n                <BasketPositionTitle>\n                  {pos.product.title}\n                </BasketPositionTitle>\n\n                <BasketPositionControls>\n                  <Button\n                    onClick={() => removeHandler(pos.product, pos.countOrdered)}\n                  >\n                    <IoRemove size=\"2rem\" />\n                  </Button>\n\n                  {pos.countOrdered}\n\n                  <Button onClick={() => addHandler(pos.product)}>\n                    <IoAdd size=\"2rem\" />\n                  </Button>\n                  <Button onClick={() => deleteHandler(pos.product)}>\n                    <IoTrash size=\"2rem\" />\n                  </Button>\n\n                  <BasketPositionCost>\n                    {`$${Math.round(pos.countOrdered * (+pos.product.price) * 100) / 100}`}\n                  </BasketPositionCost>\n                </BasketPositionControls>\n              </BasketPosition>\n            ))}\n          </BasketList>\n          <BasketTotal>\n            Total:&nbsp;&nbsp;&nbsp;$\n            {total}\n          </BasketTotal>\n        </Basket>\n      ) : (\n        <Basket>\n          <h2>Basket is empty</h2>\n        </Basket>\n      )}\n    </div>\n  );\n};\n","import { createHashRouter, Outlet } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport { NotFound } from './pages/NotFound';\nimport { HomePage } from './pages/HomePage/HomePage';\nimport { Controls } from './components/Controls';\nimport { BasketPage } from './pages/BasketPage';\n\nconst Wrapper = styled.div`\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100vh;\n  `;\n\nconst Header = styled.header`\n  max-width: 1270px;\n  margin: 0 auto;\n  text-align: center;\n  margin-bottom: 1rem;\n`;\n\nconst Main = styled.main`\n  max-width: 1270px;\n  margin: 0 auto;\n`;\n\nfunction App() {\n  return (\n    <Wrapper>\n      <Header>\n        <h1>Shop</h1>\n        <Controls />\n      </Header>\n\n      <Main>\n        <Outlet />\n      </Main>\n    </Wrapper>\n  );\n}\n\nexport const router = createHashRouter([\n  {\n    path: '/',\n    element: <App />,\n    errorElement: <NotFound />,\n    id: 'root',\n    children: [\n      {\n        path: '/',\n        element: <HomePage />,\n        id: 'homePage',\n        errorElement: <>Error on HomePage</>,\n      },\n      {\n        path: '/basket',\n        element: <BasketPage />,\n        id: 'basketPage',\n        errorElement: <>Error on BasketPage</>,\n      },\n      // {\n      //   path: '/post/:id',\n      //   element: <PostPage />,\n      //   errorElement: <>Error on PostPage</>,\n      // },\n    ],\n  },\n]);\n","import axios from 'axios';\n\nconst baseURL = 'https://fakestoreapi.com/products';\n\nconst instance = axios.create({\n  baseURL,\n});\n\ntype FetchData = {\n};\n\nexport const client = {\n  async get<T>(url: string) {\n    const response = await instance.get<T>(url);\n\n    // eslint-disable-next-line no-console\n    console.log('get', baseURL + url);\n\n    return response.data;\n  },\n\n  async post<T>(url: string, data: FetchData) {\n    const response = await instance.post<T>(url, data);\n\n    return response.data;\n  },\n\n  async patch<T>(url: string, data: FetchData) {\n    const response = await instance.patch<T>(url, data);\n\n    return response.data;\n  },\n\n  async delete(url: string) {\n    return instance.delete(url);\n  },\n};\n","import { AxiosError } from 'axios';\nimport { put, takeLeading, delay } from 'redux-saga/effects';\nimport { getAllProducts } from '../../api/products';\nimport { Product } from '../../type/Product';\n// eslint-disable-next-line import/no-cycle\nimport {\n  loadProducts,\n  setError, setProducts, setStatus,\n} from '../features/Products/productsSlice';\n\nfunction* workerSaga() {\n  // eslint-disable-next-line no-console\n  console.log('workerSaga');\n  yield put(setStatus('loading'));\n\n  try {\n    yield delay(3000);\n    const response: Product[] = yield getAllProducts();\n\n    // eslint-disable-next-line no-console\n    console.log(response);\n\n    yield put(setProducts(response));\n  } catch (error: unknown) {\n    yield put(setError((error as AxiosError).message));\n  } finally {\n    yield put(setStatus('idle'));\n  }\n}\n\nfunction* watchSaga() {\n  // eslint-disable-next-line no-console\n  console.log('watchSaga');\n\n  yield takeLeading(loadProducts().type, workerSaga);\n}\n\nexport default function* root() {\n  // eslint-disable-next-line no-console\n  console.log('root saga');\n\n  yield watchSaga();\n}\n","import { client } from './axiosClient';\n\nexport const getAllProducts = () => client.get<[]>('/');\n// export const getAllCategories = () => client.get<[]>('/categories');\n// export const getCategory = (category: string) => client.get<[]>(`/categories/${category}`);\n","/* eslint-disable no-case-declarations */\n/* eslint-disable no-param-reassign */\nimport {\n  createSlice,\n  // PayloadAction\n} from '@reduxjs/toolkit';\n// eslint-disable-next-line import/no-cycle\n// import { RootState } from '../..';\n// import { PopupValues } from '../../../type/Popup';\n// import { Todo } from '../../../type/Todo';\n\nexport interface ControlState {\n  popup: {\n    // isShowDatePicker: boolean;\n    // isShowForm: boolean;\n  },\n  // todo: Todo | null;\n}\n\nconst initialState: ControlState = {\n  popup: {\n    // isShowDatePicker: false,\n    // isShowForm: false,\n  },\n  // todo: null,\n};\n\nconst controlSlice = createSlice({\n  name: 'controls',\n  initialState,\n  reducers: {\n    // switchPopupInForm: (\n    //   state: ControlState,\n    // ) => {\n    //   // eslint-disable-next-line no-console\n    //   console.log('switchPopupInForm');\n    //   state.isShowDatePickerForm = !state.isShowDatePickerForm;\n    // },\n    // switchPopup: (\n    //   state: ControlState,\n    //   action: PayloadAction<PopupValues>,\n    // ) => {\n    //   // eslint-disable-next-line no-console\n    //   console.log('switchPopup', action.payload);\n    //   state.popup = {\n    //     ...initialState.popup,\n    //     [action.payload]: !state.popup[action.payload],\n    //   };\n    // },\n    // closeAllPopup: (\n    //   state: ControlState,\n    // ) => {\n    //   state.popup = {\n    //     ...initialState.popup,\n    //   };\n    // },\n    // sentTodoToForm: (\n    //   state: ControlState,\n    //   action: PayloadAction<Todo>,\n    // ) => {\n    //   state.todo = action.payload;\n    // },\n    // resetTodo: (state: ControlState) => {\n    //   // eslint-disable-next-line no-console\n    //   console.log('reset todo');\n\n    //   state.todo = initialState.todo;\n    // },\n    resetState: () => {\n      return initialState;\n    },\n  },\n});\n\nexport default controlSlice.reducer;\nexport const {\n  // switchPopup,\n  // closeAllPopup,\n  resetState,\n  // resetTodo,\n  // sentTodoToForm,\n} = controlSlice.actions;\n\n// export const selectIsShowDatePicker\n//  = (state: RootState) => state.control.popup.isShowDatePicker;\n// export const selectIsShowAddItem\n// = (state: RootState) => state.control.popup.isShowForm;\n// export const selectIsShowDatePickerInForm\n// = (state: RootState) => state.control.isShowDatePickerForm;\n// export const selectTodoToForm\n// = (state: RootState) => state.control.todo;\n","/* eslint-disable import/no-cycle */\nimport {\n  configureStore,\n  ThunkAction,\n  Action,\n  combineReducers,\n} from '@reduxjs/toolkit';\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist';\nimport createSagaMiddleware from 'redux-saga';\nimport storage from 'redux-persist/lib/storage';\nimport rootSaga from './sagas/index';\n// import postsReducer from './features/Posts/postsSlice';\n// import intervalSlice from './features/Interval/intervalSlice';\nimport controlsSlice from './features/Controls/controlsSlice';\n// import todosSlice from './features/Todo/todoSlice';\nimport productsSlice from './features/Products/productsSlice';\nimport basketSlice from './features/Basket/basketSlice';\n\nconst sagaMiddleware = createSagaMiddleware();\n\nconst persistConfig = {\n  key: 'root',\n  storage,\n  whitelist: ['basket', 'product'],\n  // blacklist: ['interval'],\n};\n\nconst rootReducer = combineReducers({\n  // posts: postsReducer,\n  // interval: intervalSlice,\n  control: controlsSlice,\n  // todos: todosSlice,\n  products: productsSlice,\n  basket: basketSlice,\n});\n\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\n\nexport const store = configureStore({\n  reducer: persistedReducer,\n  middleware: (getDefaultMiddleware) => getDefaultMiddleware({\n    // thunk: false,\n    serializableCheck: {\n      ignoredActions: [\n        FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER,\n        // 'posts',\n      ],\n    },\n  }).concat(sagaMiddleware),\n});\n\nexport const persistor = persistStore(store);\n\nsagaMiddleware.run(rootSaga);\n\nexport type AppDispatch = typeof store.dispatch;\nexport type RootState = ReturnType<typeof store.getState>;\n\n/* eslint-disable @typescript-eslint/indent */\nexport type AppThunk<ReturnType = void> = ThunkAction<\n  ReturnType,\n  RootState,\n  unknown,\n  Action<string>\n>;\n","import { createGlobalStyle } from 'styled-components';\n\nexport const GlobalStyle = createGlobalStyle`\n  * {\n    font-family: 'Raleway', sans-serif;\n    user-select: none;\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n`;\n","import ReactDOM from 'react-dom/client';\n\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { RouterProvider } from 'react-router-dom';\nimport { router } from './App';\nimport { store, persistor } from './store';\nimport { GlobalStyle } from './GlobalStyle';\n\nconst root = ReactDOM.createRoot(\n  document.getElementById('root') as HTMLElement,\n);\n\nroot.render(\n  <>\n    <GlobalStyle />\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <RouterProvider router={router} />\n      </PersistGate>\n    </Provider>\n  </>,\n);\n"],"sourceRoot":""}