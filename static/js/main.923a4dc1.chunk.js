(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{81:function(e,t,n){"use strict";n.r(t);var r,c,o,a,i,s,d,u,l,b,j,p,f,x,g,O,m,h,v,w,k,y,S,P,z,C,E,B,T,F,L,I,R,M,N,$,A,J,Y,H,U=n(54),q=n.n(U),D=n(37),G=n(57),K=n(5),Q=n(8),V=n(23),W=n(9),X=n(3),Z=function(){return Object(X.jsx)("div",{children:"This page doesn\xa0t exist."})},_=n(0),ee=D.b,te=D.c,ne=n(32),re=n(26),ce={storage:[],statusLoading:"idle",error:null},oe=Object(re.b)({name:"products",initialState:ce,reducers:{loadProducts:function(){},setProducts:function(e,t){e.storage=t.payload},setStatus:function(e,t){e.statusLoading=t.payload},setError:function(e,t){e.error=t.payload,e.statusLoading="failed"},resetState:function(e){return Object(ne.a)(Object(ne.a)({},e),ce)}}}),ae=oe.reducer,ie=oe.actions,se=ie.loadProducts,de=ie.setProducts,ue=ie.setStatus,le=ie.setError,be=(ie.resetState,function(e){return e.products.storage}),je=function(e){return e.products.statusLoading},pe=function(e){return e.products.error},fe=n.p+"static/media/star-icon.bdc56500.svg",xe=W.c.button(r||(r=Object(Q.a)(["\n  padding: 0;\n  margin: 0;\n  border: none;\n  background-color: transparent;\n  outline: none;\n  justify-content: center;\n  cursor: pointer;\n  height: fit-content;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-family: 'Raleway', sans-serif;\n\n  &:hover{\n    text-decoration: underline;\n  }\n"]))),ge={storage:[],totalSum:0,totalCount:0,showSuccess:!1,statusPosting:"idle",error:null},Oe=Object(re.b)({name:"basket",initialState:ge,reducers:{addProductToBasket:function(e,t){var n=t.payload,r=n.count,c=n.product,o=e.storage.findIndex((function(e){return e.product.id===c.id}));o>=0?e.storage[o].countOrdered+=r:e.storage.push({product:c,countOrdered:r}),e.totalSum=Math.ceil(100*e.storage.reduce((function(e,t){return e+Number(t.product.price)*t.countOrdered}),0))/100,e.totalCount=e.storage.reduce((function(e,t){return e+t.countOrdered}),0)},removeProductFromBasket:function(e,t){var n=t.payload,r=n.count,c=n.product,o=e.storage.findIndex((function(e){return e.product.id===c.id}));o>=0&&e.storage[o].countOrdered>=r&&(e.storage[o].countOrdered-=r,e.totalSum=Math.ceil(100*e.storage.reduce((function(e,t){return e+Number(t.product.price)*t.countOrdered}),0))/100,e.totalCount=e.storage.reduce((function(e,t){return e+t.countOrdered}),0))},deleteProductInBasket:function(e,t){var n=t.payload.product,r=e.storage.findIndex((function(e){return e.product.id===n.id}));r>=0&&(e.storage.splice(r,1),e.totalSum=Math.ceil(100*e.storage.reduce((function(e,t){return e+Number(t.product.price)*t.countOrdered}),0))/100,e.totalCount=e.storage.reduce((function(e,t){return e+t.countOrdered}),0))},sendOrderToServer:function(){console.log("sendOrderToServer")},setShowSuccess:function(e,t){e.showSuccess=t.payload},setStatusPosting:function(e,t){e.statusPosting=t.payload},setError:function(e,t){e.error=t.payload,e.statusPosting="failed"},clearBasket:function(){return ge}}}),me=Oe.reducer,he=Oe.actions,ve=he.addProductToBasket,we=he.removeProductFromBasket,ke=he.deleteProductInBasket,ye=he.sendOrderToServer,Se=he.setShowSuccess,Pe=he.setStatusPosting,ze=he.setError,Ce=he.clearBasket,Ee=function(e){return e.basket.storage},Be=function(e){return e.basket.totalSum},Te=function(e){return e.basket.totalCount},Fe=function(e){return e.basket.showSuccess},Le=function(e){return e.basket.statusPosting},Ie=function(e){return e.basket.error},Re=W.c.div(c||(c=Object(Q.a)(["\n  display: inline-flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 280px;\n  height: 400px;\n  border-radius: 10px;\n  box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.2);\n  overflow: hidden;\n  margin: 10px;\n  box-sizing: border-box;\n  padding: 0 0 20px;\n\n  &:hover {\n    cursor: pointer;\n    ","\n  }\n\n  ","\n"])),(function(e){return"page"===e.format&&Object(W.b)(o||(o=Object(Q.a)(["\n    cursor: auto;\n  "])))}),(function(e){return"page"===e.format&&Object(W.b)(a||(a=Object(Q.a)(["\n    display: flex;\n    width: 100%;\n    height: 100%;\n    border-radius: none;\n    box-shadow: none;\n    overflow: visible;\n    margin: 0;\n    padding: 0;\n  "])))})),Me=W.c.img(i||(i=Object(Q.a)(["\n  width: 100%;\n  height: 250px;\n  object-fit: cover;\n  overflow: hidden;\n\n  ","\n"])),(function(e){return"page"===e.format&&Object(W.b)(s||(s=Object(Q.a)(["\n    width: 300px;\n    height: 400px;\n    object-fit: cover;\n    overflow: visible;\n    margin: 0 auto;\n  "])))})),Ne=W.c.div(d||(d=Object(Q.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n\n  ","\n"])),(function(e){return"page"===e.format&&Object(W.b)(u||(u=Object(Q.a)(["\n    padding: 50px;\n  "])))})),$e=W.c.div(l||(l=Object(Q.a)(["\n  font-size: 12px;\n  padding: 0;\n\n  ","\n"])),(function(e){return"page"===e.format&&Object(W.b)(b||(b=Object(Q.a)(["\n    font-size: 20px;\n    padding: 10px;\n  "])))})),Ae=W.c.h2(j||(j=Object(Q.a)(["\n  font-size: 20px;\n  font-weight: bold;\n  margin-bottom: 10px;\n  max-width: 250px;\n  text-align: center;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-direction: normal;\n  -webkit-box-orient: vertical;\n  overflow-wrap: normal;\n  height: 48px;\n\n  ","\n"])),(function(e){return"page"===e.format&&Object(W.b)(p||(p=Object(Q.a)(["\n    font-size: 50px;\n    margin-top: 20px;\n    margin-bottom: 40px;\n    max-width: none;\n    -webkit-line-clamp: inherit;\n    text-align: center;\n    overflow: visible;\n    text-overflow: none;\n    height: auto;\n  "])))})),Je=W.c.p(f||(f=Object(Q.a)(["\n  font-size: 14px;\n  text-align: center;\n  max-height: 50px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 1;\n  -webkit-box-direction: normal;\n  -webkit-box-orient: vertical;\n  overflow-wrap: break-word;\n\n  ","\n"])),(function(e){return"page"===e.format&&Object(W.b)(x||(x=Object(Q.a)(["\n    font-size: 24px;\n    text-align: center;\n    max-height: min-content;\n    text-overflow: clip;\n    overflow: visible;\n    -webkit-line-clamp: inherit;\n  "])))})),Ye=W.c.h3(g||(g=Object(Q.a)(["\n  font-size: 24px;\n  font-weight: bold;\n  margin-top: 10px;\n\n  ","\n"])),(function(e){return"page"===e.format&&Object(W.b)(O||(O=Object(Q.a)(["\n    font-size: 34px;\n    font-weight: bold;\n    margin-top: 20px;\n  "])))})),He=W.c.div(m||(m=Object(Q.a)(["\n  display: flex;\n  align-items: center;\n  margin-top: 10px;\n\n  ","\n"])),(function(e){return"page"===e.format&&Object(W.b)(h||(h=Object(Q.a)(["\n  "])))})),Ue=W.c.span(v||(v=Object(Q.a)(["\n  font-size: 14px;\n  margin-left: 5px;\n"]))),qe=Object(W.c)(xe)(w||(w=Object(Q.a)(["\n  ","\n"])),(function(e){return"page"===e.format&&Object(W.b)(k||(k=Object(Q.a)(["\n    font-size: 30px;\n    margin: 20px auto;\n  "])))})),De=function(e){var t=e.product,n=e.format,r=void 0===n?"card":n,c=t.category,o=t.description,a=t.image,i=t.price,s=t.rating,d=t.title,u=t.id,l=s.count,b=ee(),j=Object(K.m)();return Object(X.jsxs)(Re,{onClick:function(){"card"===r&&j("product/".concat(u))},format:r,children:[Object(X.jsx)(Me,{src:a,alt:o,format:r}),Object(X.jsxs)(Ne,{format:r,children:[Object(X.jsx)($e,{format:r,children:c}),Object(X.jsx)(Ae,{format:r,children:d}),Object(X.jsx)(Je,{format:r,children:o}),Object(X.jsxs)(Ye,{format:r,children:["$",i]}),Object(X.jsxs)(He,{format:r,children:[Object(X.jsx)("img",{src:fe,alt:"star icon"}),Object(X.jsx)(Ue,{format:r,children:"".concat(l," available")})]})]}),Object(X.jsx)(qe,{onClick:function(e){return function(e){e.stopPropagation(),b(ve({product:t,count:1}))}(e)},format:r,children:"Add"})]})},Ge=Object(W.d)(y||(y=Object(Q.a)(["\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n"]))),Ke=W.c.div(S||(S=Object(Q.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n"]))),Qe=W.c.div(P||(P=Object(Q.a)(["\n  border-radius: 50%;\n  width: 2em;\n  height: 2em;\n  margin: 1em auto;\n  border: 0.3em solid #ddd;\n  border-left-color: #000;\n  animation: "," 1.2s infinite linear;\n"])),Ge),Ve=function(){return console.log("Loader ...."),Object(X.jsx)(Ke,{children:Object(X.jsx)(Qe,{})})},We=W.c.div(z||(z=Object(Q.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n\n  ","\n"])),(function(e){return"error"===e.status&&Object(W.b)(C||(C=Object(Q.a)(["\n    color: red;\n  "])))})),Xe=function(e){var t=e.message,n=e.status,r=void 0===n?"casual":n;return Object(X.jsx)(We,{status:r,children:Object(X.jsx)("h2",{children:t})})},Ze=W.c.div(E||(E=Object(Q.a)(["\n  display: grid;\n  grid-template-columns: repeat(4, minmax(300px, 1fr));\n  gap: 20px;\n  justify-items: center;\n  align-items: center;\n  justify-content: center;\n"]))),_e=function(){var e=ee(),t=te(be),n="loading"===te(je),r=te(pe),c=0===te(Te);return Object(_.useEffect)((function(){c||t.length||e(se())}),[]),r?Object(X.jsx)(Xe,{message:r,status:"error"}):n?Object(X.jsx)(Ve,{}):Object(X.jsx)(Ze,{children:t.length>0&&t.map((function(e){return Object(X.jsx)(De,{product:e},e.id)}))})},et=n(28),tt=W.c.div(B||(B=Object(Q.a)(["\n  margin: 0 auto;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 10px;\n"]))),nt=function(){var e=ee(),t=te(Ee),n=te(be),r=te(Te);return Object(X.jsxs)(tt,{children:[Object(X.jsx)(V.a,{to:"/",children:Object(X.jsx)(et.d,{})}),!n.length&&Object(X.jsx)(xe,{onClick:function(){return e(se())},children:"Load products"}),!!t.length&&Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(xe,{onClick:function(){return e(Ce())},children:"Clear basket"}),"Total:",r]}),Object(X.jsx)(V.a,{to:"basket",children:t.length?Object(X.jsx)(et.b,{size:"2rem",color:"black"}):Object(X.jsx)(et.c,{size:"2rem",color:"grey"})})]})},rt=W.c.div(T||(T=Object(Q.a)(["\n  & h2 {\n    text-align: center;\n  }\n"]))),ct=W.c.div(F||(F=Object(Q.a)(["\n  border-bottom: 1px solid black;\n"]))),ot=W.c.div(L||(L=Object(Q.a)(["\n  padding: 10px 0;\n  border-bottom: 1px solid black;\n  text-align: right;\n"]))),at=W.c.div(I||(I=Object(Q.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 10px;\n"]))),it=W.c.div(R||(R=Object(Q.a)(["\n  width: 500px;\n\n  & > button {\n    text-align: left;\n  }\n"]))),st=W.c.div(M||(M=Object(Q.a)(["\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n"]))),dt=W.c.div(N||(N=Object(Q.a)(["\n  margin-left: 30px;\n  width: 100px;\n  text-align: right;\n"]))),ut=Object(W.c)(xe)($||($=Object(Q.a)(["\n  margin: 100px auto;\n  font-size: 30px;\n"]))),lt=function(){var e=ee(),t=te(Ee),n=te(Be),r="posting"===te(Le),c=te(Ie),o=te(Fe),a=Object(K.m)();Object(_.useEffect)((function(){o&&setTimeout((function(){e(Ce()),a("/")}),3e3)}),[o]);return c?Object(X.jsx)(Xe,{message:c,status:"error"}):r?Object(X.jsx)(Ve,{}):o?Object(X.jsx)(Xe,{message:"Order sent",status:"casual"}):Object(X.jsx)("div",{children:t.length?Object(X.jsxs)(rt,{children:[Object(X.jsx)(ct,{children:t.map((function(t){return Object(X.jsxs)(at,{children:[Object(X.jsx)(it,{children:Object(X.jsx)(xe,{onClick:function(){return a("/product/".concat(t.product.id))},children:t.product.title})}),Object(X.jsxs)(st,{children:[Object(X.jsx)(xe,{onClick:function(){return n=t.product,r=t.countOrdered,void e(1!==r?we({product:n,count:1}):ke({product:n}));var n,r},children:Object(X.jsx)(et.e,{size:"2rem"})}),t.countOrdered,Object(X.jsx)(xe,{onClick:function(){return n=t.product,void e(ve({product:n,count:1}));var n},children:Object(X.jsx)(et.a,{size:"2rem"})}),Object(X.jsx)(xe,{onClick:function(){return n=t.product,void e(ke({product:n}));var n},children:Object(X.jsx)(et.f,{size:"2rem"})}),Object(X.jsx)(dt,{children:"$".concat(Math.round(t.countOrdered*+t.product.price*100)/100)})]})]},t.product.id)}))}),Object(X.jsxs)(ot,{children:["Total:\xa0\xa0\xa0$",n]}),Object(X.jsx)(ut,{onClick:function(){return e(ye())},children:"Order"})]}):Object(X.jsx)(Xe,{message:"Basket is empty",status:void 0})})},bt=W.c.div(A||(A=Object(Q.a)(["\n  margin: 0 auto;\n  grid-template-columns: repeat(4, minmax(400px, 1fr));\n  gap: 20px;\n  margin: 0 auto;\n  padding: 20px;\n"]))),jt=function(){var e=Object(K.o)().id,t=te(be).find((function(t){return String(t.id)===e}));return Object(X.jsx)(bt,{children:t&&Object(X.jsx)(De,{product:t,format:"page"})})},pt=W.c.div(J||(J=Object(Q.a)(["\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100vh;\n  "]))),ft=W.c.header(Y||(Y=Object(Q.a)(["\n  max-width: 1270px;\n  margin: 0 auto;\n  text-align: center;\n  margin-bottom: 1rem;\n  padding-top: 1rem;\n"]))),xt=W.c.main(H||(H=Object(Q.a)(["\n  max-width: 1270px;\n  margin: 0 auto;\n"])));function gt(){return Object(X.jsxs)(pt,{children:[Object(X.jsxs)(ft,{children:[Object(X.jsx)("h1",{children:"Shop with React Saga"}),Object(X.jsx)(nt,{})]}),Object(X.jsx)(xt,{children:Object(X.jsx)(K.a,{})})]})}var Ot=Object(V.b)([{path:"/",element:Object(X.jsx)(gt,{}),errorElement:Object(X.jsx)(Z,{}),id:"root",children:[{path:"/",element:Object(X.jsx)(_e,{}),id:"homePage",errorElement:Object(X.jsx)(X.Fragment,{children:"Error on HomePage"})},{path:"/basket",element:Object(X.jsx)(lt,{}),id:"basketPage",errorElement:Object(X.jsx)(X.Fragment,{children:"Error on BasketPage"})},{path:"/product/:id",element:Object(X.jsx)(jt,{}),errorElement:Object(X.jsx)(X.Fragment,{children:"Error on ProductPage"})}]}]),mt=n(17),ht=n(24),vt=n(62),wt=n(61),kt=n.n(wt),yt=n(6),St=n.n(yt),Pt=n(16),zt=n(14),Ct=n(83),Et="https://fakestoreapi.com/products",Bt=Ct.a.create({baseURL:Et}),Tt=function(e){return Object(zt.a)(St.a.mark((function t(){var n;return St.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Bt.get(e);case 2:return n=t.sent,console.log("get",Et+e),t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)})))()},Ft=St.a.mark(Lt);function Lt(){var e;return St.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("getProductsSaga"),t.next=3,Object(Pt.b)(ue("loading"));case 3:return t.prev=3,t.next=6,Object(Pt.a)(3e3);case 6:return t.next=8,Tt("/");case 8:return e=t.sent,console.log(e),t.next=12,Object(Pt.b)(de(e));case 12:t.next=18;break;case 14:return t.prev=14,t.t0=t.catch(3),t.next=18,Object(Pt.b)(le(t.t0.message));case 18:return t.prev=18,t.next=21,Object(Pt.b)(ue("idle"));case 21:return t.finish(18);case 22:case"end":return t.stop()}}),Ft,null,[[3,14,18,22]])}var It=St.a.mark(Rt);function Rt(){var e,t;return St.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("sendOrderSaga"),n.next=3,Object(Pt.b)(Pe("posting"));case 3:return n.prev=3,n.next=6,Object(Pt.a)(5e3);case 6:return n.next=8,Object(Pt.c)((function(e){return e.basket.storage}));case 8:return e=n.sent,console.log("Your order is:"),e.forEach((function(e){console.log(e.product.title,e.countOrdered)})),n.next=13,Object(Pt.c)((function(e){return e.basket.totalSum}));case 13:return t=n.sent,console.log("Your total sum is:",t),n.next=17,Object(Pt.b)(Se(!0));case 17:n.next=23;break;case 19:return n.prev=19,n.t0=n.catch(3),n.next=23,Object(Pt.b)(ze(n.t0.message));case 23:return n.prev=23,n.next=26,Object(Pt.b)(Pe("idle"));case 26:return n.finish(23);case 27:case"end":return n.stop()}}),It,null,[[3,19,23,27]])}var Mt=St.a.mark(Nt);function Nt(){return St.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("watchSaga"),e.next=3,Object(Pt.e)(se().type,Lt);case 3:return e.next=5,Object(Pt.d)(ye().type,Rt);case 5:case"end":return e.stop()}}),Mt)}var $t=St.a.mark(At);function At(){return St.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("root saga"),e.next=3,Nt();case 3:case"end":return e.stop()}}),$t)}var Jt,Yt={popup:{}},Ht=Object(re.b)({name:"controls",initialState:Yt,reducers:{resetState:function(){return Yt}}}),Ut=Ht.reducer,qt=(Ht.actions.resetState,Object(vt.a)()),Dt={key:"root",storage:kt.a,whitelist:["basket"]},Gt=Object(mt.b)({control:Ut,products:ae,basket:me}),Kt=Object(ht.g)(Dt,Gt),Qt=Object(re.a)({reducer:Kt,middleware:function(e){return e({thunk:!1,serializableCheck:{ignoredActions:[ht.a,ht.f,ht.b,ht.c,ht.d,ht.e]}}).concat(qt)}}),Vt=Object(ht.h)(Qt);qt.run(At);var Wt=Object(W.a)(Jt||(Jt=Object(Q.a)(["\n  * {\n    font-family: 'Raleway', sans-serif;\n    user-select: none;\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n"])));q.a.createRoot(document.getElementById("root")).render(Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(Wt,{}),Object(X.jsx)(D.a,{store:Qt,children:Object(X.jsx)(G.a,{loading:null,persistor:Vt,children:Object(X.jsx)(K.c,{router:Ot})})})]}))}},[[81,1,2]]]);
//# sourceMappingURL=main.923a4dc1.chunk.js.map