(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{62:function(e){e.exports=JSON.parse('[{"todoId":"1","title":"title","description":"description asadsdas","color":"Color","date":"1709157600000","time":""}]')},82:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var r,a,o,c,i,s,d,u,l,p,b,g,j,f,x,O,h,m,w,v,D,y,k,S,T,P,F,C=n(8),L=n(54),M=n.n(L),I=n(9),Y=n(37),z=n(57),E=n(5),B=n(30),N=n(4),R=function(){return Object(N.jsx)("div",{children:"This page doesn\xa0t exist."})},J=n(0),A=Y.b,$=Y.c,H=n(17),U=n(18),q={storage:[],statusLoading:"idle",error:null},G=Object(U.c)({name:"products",initialState:q,reducers:{loadProducts:function(){},setProducts:function(e,t){e.storage=t.payload},setStatus:function(e,t){console.log("setStatus",t.payload),e.statusLoading=t.payload},setError:function(e,t){e.error=t.payload,e.statusLoading="failed"},resetState:function(e){return Object(H.a)(Object(H.a)({},e),q)}}}),K=G.reducer,Q=G.actions,V=Q.loadProducts,W=Q.setProducts,X=Q.setStatus,Z=Q.setError,_=(Q.resetState,function(e){return e.products.storage}),ee=function(e){return e.products.statusLoading},te=function(e){return e.products.error},ne=n.p+"static/media/star-icon.bdc56500.svg",re=I.c.button(r||(r=Object(C.a)(["\n  padding: 0;\n  margin: 0;\n  border: none;\n  background-color: transparent;\n  outline: none;\n  justify-content: center;\n  cursor: pointer;\n  height: fit-content;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-family: 'Raleway', sans-serif;\n\n  &:hover{\n    text-decoration: underline;\n  }\n"]))),ae={storage:[],total:0},oe=Object(U.c)({name:"basket",initialState:ae,reducers:{addProductToBasket:function(e,t){var n=t.payload,r=n.count,a=n.product,o=e.storage.findIndex((function(e){return e.product.id===a.id}));o>=0?e.storage[o].countOrdered+=r:e.storage.push({product:a,countOrdered:r}),e.total=Math.ceil(100*e.storage.reduce((function(e,t){return e+Number(t.product.price)*t.countOrdered}),0))/100},removeProductFromBasket:function(e,t){var n=t.payload,r=n.count,a=n.product,o=e.storage.findIndex((function(e){return e.product.id===a.id}));o>=0&&e.storage[o].countOrdered>=r&&(e.storage[o].countOrdered-=r,e.total=Math.ceil(100*e.storage.reduce((function(e,t){return e+Number(t.product.price)*t.countOrdered}),0))/100)},deleteProductInBasket:function(e,t){var n=t.payload.product,r=e.storage.findIndex((function(e){return e.product.id===n.id}));r>=0&&(e.storage.splice(r,1),e.total=Math.ceil(100*e.storage.reduce((function(e,t){return e+Number(t.product.price)*t.countOrdered}),0))/100)},clearBasket:function(){return ae}}}),ce=oe.reducer,ie=oe.actions,se=ie.addProductToBasket,de=ie.removeProductFromBasket,ue=ie.deleteProductInBasket,le=(ie.clearBasket,function(e){return e.basket.storage}),pe=function(e){return e.basket.total},be=I.c.div(a||(a=Object(C.a)(["\n  display: inline-flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 280px;\n  height: 400px;\n  border-radius: 10px;\n  box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.2);\n  overflow: hidden;\n  margin: 10px;\n  box-sizing: border-box;\n  padding: 0 0 20px;\n"]))),ge=I.c.img(o||(o=Object(C.a)(["\n  width: 100%;\n  height: 250px;\n  object-fit: cover;\n  overflow: hidden;\n"]))),je=I.c.div(c||(c=Object(C.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n"]))),fe=I.c.div(i||(i=Object(C.a)(["\n  font-size: 12px;\n  padding: 0;\n"]))),xe=I.c.h2(s||(s=Object(C.a)(["\n  font-size: 20px;\n  font-weight: bold;\n  margin-bottom: 10px;\n  max-width: 250px;\n  text-align: center;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-direction: normal;\n  -webkit-box-orient: vertical;\n  overflow-wrap: normal;\n  height: 48px;\n"]))),Oe=I.c.p(d||(d=Object(C.a)(["\n  font-size: 14px;\n  text-align: center;\n  max-height: 50px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 1;\n  -webkit-box-direction: normal;\n  -webkit-box-orient: vertical;\n  overflow-wrap: break-word;\n"]))),he=I.c.h3(u||(u=Object(C.a)(["\n  font-size: 24px;\n  font-weight: bold;\n  margin-top: 10px;\n"]))),me=I.c.div(l||(l=Object(C.a)(["\n  display: flex;\n  align-items: center;\n  margin-top: 10px;\n"]))),we=I.c.span(p||(p=Object(C.a)(["\n  font-size: 14px;\n  margin-left: 5px;\n"]))),ve=function(e){var t=e.product,n=t.category,r=t.description,a=t.image,o=t.price,c=t.rating,i=t.title,s=c.count,d=A();return Object(N.jsxs)(be,{onDragStart:function(e){e.dataTransfer.setData("text/plain",JSON.stringify(t))},children:[Object(N.jsx)(ge,{src:a,alt:r}),Object(N.jsxs)(je,{children:[Object(N.jsx)(fe,{children:n}),Object(N.jsx)(xe,{children:i}),Object(N.jsx)(Oe,{children:r}),Object(N.jsxs)(he,{children:["$",o]}),Object(N.jsxs)(me,{children:[Object(N.jsx)("img",{src:ne,alt:"star icon"}),Object(N.jsx)(we,{children:"".concat(s," available")})]})]}),Object(N.jsx)(re,{onClick:function(){d(se({product:t,count:1}))},children:"Buy"})]})},De=Object(I.d)(b||(b=Object(C.a)(["\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n"]))),ye=I.c.div(g||(g=Object(C.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n"]))),ke=I.c.div(j||(j=Object(C.a)(["\n  border-radius: 50%;\n  width: 2em;\n  height: 2em;\n  margin: 1em auto;\n  border: 0.3em solid #ddd;\n  border-left-color: #000;\n  animation: "," 1.2s infinite linear;\n"])),De),Se=function(){return console.log("Loader ...."),Object(N.jsx)(ye,{children:Object(N.jsx)(ke,{})})},Te=I.c.div(f||(f=Object(C.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n\n  ","\n"])),(function(e){return"error"===e.status&&Object(I.b)(x||(x=Object(C.a)(["\n    color: red;\n  "])))})),Pe=function(e){var t=e.message,n=e.status,r=void 0===n?"casual":n;return Object(N.jsx)(Te,{status:r,children:Object(N.jsx)("h2",{children:t})})},Fe=I.c.div(O||(O=Object(C.a)(["\n  margin: 0 auto;\n  grid-template-columns: repeat(4, minmax(400px, 1fr));\n  gap: 20px;\n  margin: 0 auto;\n  padding: 20px;\n"]))),Ce=function(){var e=$(_),t="loading"===$(ee),n=$(te);return console.log("isLoading",t),Object(J.useEffect)((function(){}),[]),n?Object(N.jsx)(Pe,{message:n,status:"error"}):t?Object(N.jsx)(Se,{}):Object(N.jsx)(Fe,{children:e.length>0&&e.map((function(e){return Object(N.jsx)(ve,{product:e},e.id)}))})},Le=n(27),Me=I.c.div(h||(h=Object(C.a)(["\n  margin: 0 auto;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 10px;\n"]))),Ie=function(){var e=A(),t=$(le),n=$(_);return Object(N.jsxs)(Me,{children:[Object(N.jsx)(B.a,{to:"/",children:Object(N.jsx)(Le.d,{})}),!n.length&&Object(N.jsx)(re,{onClick:function(){return e(V())},children:"Load products"}),Object(N.jsx)(B.a,{to:"basket",children:t.length?Object(N.jsx)(Le.b,{size:"2rem",color:"black"}):Object(N.jsx)(Le.c,{size:"2rem",color:"grey"})})]})},Ye=I.c.div(m||(m=Object(C.a)(["\n  & h2 {\n    text-align: center;\n  }\n"]))),ze=I.c.div(w||(w=Object(C.a)(["\n  border-bottom: 1px solid black;\n"]))),Ee=I.c.div(v||(v=Object(C.a)(["\n  padding: 10px 0;\n  border-bottom: 1px solid black;\n  text-align: right;\n"]))),Be=I.c.div(D||(D=Object(C.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 10px;\n"]))),Ne=I.c.div(y||(y=Object(C.a)(["\n  width: 500px;\n"]))),Re=I.c.div(k||(k=Object(C.a)(["\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n"]))),Je=I.c.div(S||(S=Object(C.a)(["\n  margin-left: 30px;\n  width: 100px;\n  text-align: right;\n\n"]))),Ae=function(){var e=A(),t=$(le),n=$(pe);return Object(N.jsx)("div",{children:t.length?Object(N.jsxs)(Ye,{children:[Object(N.jsx)(ze,{children:t.map((function(t){return Object(N.jsxs)(Be,{children:[Object(N.jsx)(Ne,{children:t.product.title}),Object(N.jsxs)(Re,{children:[Object(N.jsx)(re,{onClick:function(){return n=t.product,r=t.countOrdered,void e(1!==r?de({product:n,count:1}):ue({product:n}));var n,r},children:Object(N.jsx)(Le.e,{size:"2rem"})}),t.countOrdered,Object(N.jsx)(re,{onClick:function(){return n=t.product,void e(se({product:n,count:1}));var n},children:Object(N.jsx)(Le.a,{size:"2rem"})}),Object(N.jsx)(re,{onClick:function(){return n=t.product,void e(ue({product:n}));var n},children:Object(N.jsx)(Le.f,{size:"2rem"})}),Object(N.jsx)(Je,{children:"$".concat(Math.round(t.countOrdered*+t.product.price*100)/100)})]})]},t.product.id)}))}),Object(N.jsxs)(Ee,{children:["Total:\xa0\xa0\xa0$",n]})]}):Object(N.jsx)(Ye,{children:Object(N.jsx)("h2",{children:"Basket is empty"})})})},$e=I.c.div(T||(T=Object(C.a)(["\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100vh;\n  "]))),He=I.c.header(P||(P=Object(C.a)(["\n  max-width: 1270px;\n  margin: 0 auto;\n  text-align: center;\n  margin-bottom: 1rem;\n"]))),Ue=I.c.main(F||(F=Object(C.a)(["\n  max-width: 1270px;\n  margin: 0 auto;\n"])));function qe(){return Object(N.jsxs)($e,{children:[Object(N.jsxs)(He,{children:[Object(N.jsx)("h1",{children:"Shop"}),Object(N.jsx)(Ie,{})]}),Object(N.jsx)(Ue,{children:Object(N.jsx)(E.a,{})})]})}var Ge=Object(B.b)([{path:"/",element:Object(N.jsx)(qe,{}),errorElement:Object(N.jsx)(R,{}),id:"root",children:[{path:"/",element:Object(N.jsx)(Ce,{}),id:"homePage",errorElement:Object(N.jsx)(N.Fragment,{children:"Error on HomePage"})},{path:"/basket",element:Object(N.jsx)(Ae,{}),id:"basketPage",errorElement:Object(N.jsx)(N.Fragment,{children:"Error on BasketPage"})}]}]),Ke=n(19),Qe=n(24),Ve=n(63),We=n(61),Xe=n.n(We),Ze=n(6),_e=n.n(Ze),et=n(28),tt=n(12),nt=n(85),rt="https://fakestoreapi.com/products",at=nt.a.create({baseURL:rt}),ot=function(e){return Object(tt.a)(_e.a.mark((function t(){var n;return _e.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,at.get(e);case 2:return n=t.sent,console.log("get",rt+e),t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)})))()},ct=_e.a.mark(dt),it=_e.a.mark(ut),st=_e.a.mark(lt);function dt(){var e;return _e.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("workerSaga"),t.next=3,Object(et.b)(X("loading"));case 3:return t.prev=3,t.next=6,Object(et.a)(3e3);case 6:return t.next=8,ot("/");case 8:return e=t.sent,console.log(e),t.next=12,Object(et.b)(W(e));case 12:t.next=18;break;case 14:return t.prev=14,t.t0=t.catch(3),t.next=18,Object(et.b)(Z(t.t0.message));case 18:return t.prev=18,t.next=21,Object(et.b)(X("idle"));case 21:return t.finish(18);case 22:case"end":return t.stop()}}),ct,null,[[3,14,18,22]])}function ut(){return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("watchSaga"),e.next=3,Object(et.c)(V().type,dt);case 3:case"end":return e.stop()}}),it)}function lt(){return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("root saga"),e.next=3,ut();case 3:case"end":return e.stop()}}),st)}var pt=n(16),bt={storage:[],statusLoading:"idle",error:null},gt=Object(U.b)("posts/fetchPosts",Object(tt.a)(_e.a.mark((function e(){var t;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot("/posts/");case 2:return t=e.sent,console.log(t),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))),jt=Object(U.c)({name:"interval",initialState:bt,reducers:{addPosts:function(e,t){var n;(n=e.storage).push.apply(n,Object(pt.a)(t.payload))},setStatus:function(e,t){e.statusLoading=t.payload},setError:function(e,t){e.error=t.payload,e.statusLoading="failed"},resetState:function(e){return Object(H.a)(Object(H.a)({},e),bt)}},extraReducers:function(e){e.addCase(gt.pending,(function(e){e.statusLoading="loading"})).addCase(gt.fulfilled,(function(e,t){var n;(n=e.storage).push.apply(n,Object(pt.a)(t.payload)),e.statusLoading="idle"})).addCase(gt.rejected,(function(e,t){e.statusLoading="failed",console.log(t)}))}}),ft=jt.reducer,xt=jt.actions,Ot=(xt.addPosts,xt.setStatus,xt.setError,xt.resetState,"day"),ht="week",mt="month",wt="year",vt={currentDate:0,start:0,end:0,storage:[],formatCalendar:mt},Dt=(Object(U.b)("Interval/fetchInterval",Object(tt.a)(_e.a.mark((function e(){return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))),Object(U.c)({name:"interval",initialState:vt,reducers:{setCurrentDate:function(e){e.currentDate=(new Date).valueOf()},setSpecialDate:function(e,t){e.currentDate=new Date(t.payload).valueOf()},setFormat:function(e,t){e.formatCalendar=t.payload,console.log("setFormat",e.formatCalendar)},navigateMonth:function(e,t){console.log("navigateMonth",t.payload),e.currentDate=new Date(new Date(e.currentDate).getFullYear(),new Date(e.currentDate).getMonth()+Number(t.payload),new Date(e.currentDate).getDate()).valueOf()},navigateYear:function(e,t){console.log("navigateYear",t.payload),e.currentDate=new Date(new Date(e.currentDate).getFullYear()+Number(t.payload),new Date(e.currentDate).getMonth(),new Date(e.currentDate).getDate()).valueOf()},setIntervalCalendar:function(e){if(e.currentDate)switch(e.formatCalendar){case Ot:e.start=new Date(new Date(e.currentDate).getFullYear(),new Date(e.currentDate).getMonth(),new Date(e.currentDate).getDate()).valueOf(),e.end=new Date(new Date(e.currentDate).getFullYear(),new Date(e.currentDate).getMonth(),new Date(e.currentDate).getDate()+1).valueOf();break;case ht:var t=new Date(e.currentDate).getDate(),n=new Date(e.currentDate).getDay();e.start=new Date(new Date(e.currentDate).getFullYear(),new Date(e.currentDate).getMonth(),0===n?t-n+1-7:t-n+1).valueOf(),e.end=new Date(new Date(e.currentDate).getFullYear(),new Date(e.currentDate).getMonth(),7+(0===n?t-n+1-7:t-n+1)).valueOf();break;case mt:e.start=new Date(new Date(e.currentDate).getFullYear(),new Date(e.currentDate).getMonth(),1-new Date(new Date(e.currentDate).getFullYear(),new Date(e.currentDate).getMonth(),0).getDay()).valueOf(),e.end=new Date(new Date(e.currentDate).getFullYear(),new Date(e.currentDate).getMonth()+1,(8-new Date(new Date(e.currentDate).getFullYear(),new Date(e.currentDate).getMonth()+1,0).getDay())%7).valueOf();break;case wt:e.start=new Date(new Date(e.currentDate).getFullYear(),0,1).valueOf(),e.end=new Date(new Date(e.currentDate).getFullYear()+1,0,1).valueOf()}else console.warn("no currentDate in IntervalSlice")},addTodo:function(e,t){e.storage.push(t.payload)},resetState:function(e){return Object(H.a)(Object(H.a)({},e),vt)}}})),yt=Dt.reducer,kt=Dt.actions,St=(kt.setCurrentDate,kt.setSpecialDate,kt.setFormat,kt.navigateMonth,kt.navigateYear,kt.setIntervalCalendar,kt.addTodo,kt.resetState,n(14)),Tt={popup:{isShowDatePicker:!1,isShowForm:!1},todo:null},Pt=Object(U.c)({name:"controls",initialState:Tt,reducers:{switchPopup:function(e,t){console.log("switchPopup",t.payload),e.popup=Object(H.a)(Object(H.a)({},Tt.popup),{},Object(St.a)({},t.payload,!e.popup[t.payload]))},closeAllPopup:function(e){e.popup=Object(H.a)({},Tt.popup)},sentTodoToForm:function(e,t){e.todo=t.payload},resetTodo:function(e){console.log("reset todo"),e.todo=Tt.todo},resetState:function(e){return Object(H.a)(Object(H.a)({},e),Tt)}}}),Ft=Pt.reducer,Ct=Pt.actions,Lt=(Ct.switchPopup,Ct.closeAllPopup,Ct.resetState,Ct.resetTodo,Ct.sentTodoToForm,n(62)),Mt={storage:[],statusLoading:"idle",error:null},It=function(){var e=Object(tt.a)(_e.a.mark((function e(){var t,n=arguments;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:3e3,e.abrupt("return",new Promise((function(e){setTimeout((function(){e(Lt)}),t)})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Yt=Object(U.b)("todos/fetchTodos",Object(tt.a)(_e.a.mark((function e(){var t;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,It();case 2:return t=e.sent,console.log(t),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))),zt=Object(U.c)({name:"interval",initialState:Mt,reducers:{addTodo:function(e,t){e.storage.push(t.payload)},changeTodo:function(e,t){e.storage=e.storage.map((function(e){return e.todoId===t.payload.todoId?t.payload.todo:e}))},randomizeTodos:function(){},deleteTodo:function(e,t){console.log("deleteTodos"),e.storage=e.storage.filter((function(e){return e.todoId!==t.payload}))},setStatus:function(e,t){e.statusLoading=t.payload},setError:function(e,t){e.error=t.payload,e.statusLoading="failed"},resetStateTodos:function(){return console.log("reset todos"),Mt}},extraReducers:function(e){e.addCase(Yt.pending,(function(e){e.statusLoading="loading"})).addCase(Yt.fulfilled,(function(e,t){var n;(n=e.storage).push.apply(n,Object(pt.a)(t.payload)),e.statusLoading="idle"})).addCase(Yt.rejected,(function(e,t){e.statusLoading="failed",console.log(t)}))}}),Et=zt.reducer,Bt=zt.actions,Nt=(Bt.addTodo,Bt.changeTodo,Bt.deleteTodo,Bt.setStatus,Bt.setError,Bt.resetStateTodos,Object(Ve.a)()),Rt={key:"root",storage:Xe.a,whitelist:["basket","product"]},Jt=Object(Ke.b)({posts:ft,interval:yt,control:Ft,todos:Et,products:K,basket:ce}),At=Object(Qe.g)(Rt,Jt),$t=Object(U.a)({reducer:At,middleware:function(e){return e({serializableCheck:{ignoredActions:[Qe.a,Qe.f,Qe.b,Qe.c,Qe.d,Qe.e]}}).concat(Nt)}}),Ht=Object(Qe.h)($t);Nt.run(lt);n(82);var Ut,qt=Object(I.a)(Ut||(Ut=Object(C.a)(["\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n"])));M.a.createRoot(document.getElementById("root")).render(Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(qt,{}),Object(N.jsx)(Y.a,{store:$t,children:Object(N.jsx)(z.a,{loading:null,persistor:Ht,children:Object(N.jsx)(E.c,{router:Ge})})})]}))}},[[83,1,2]]]);
//# sourceMappingURL=main.597b7aa5.chunk.js.map